{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\src\\\\components\\\\ChatBot.jsx\";\nimport React, { Component } from 'react';\nimport fire from 'firebase';\nimport Webcam from \"react-webcam\";\nimport Songs from './songs.json';\nimport SpeechRecognition from 'react-speech-recognition';\nvar myRecognition = new (window.SpeechRecognition || window.webkitSpeechRecognition || window.mozSpeechRecognition || window.msSpeechRecognition)();\nmyRecognition.continous = true;\nmyRecognition.interimResults = true;\nmyRecognition.lang = 'en-US';\n\nvar ChatBot =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChatBot, _Component);\n\n  _createClass(ChatBot, [{\n    key: \"toggleListen\",\n    value: function toggleListen() {\n      this.setState({\n        listening: !this.state.listening\n      }, this.handleListen);\n      console.log(this.state.listening);\n    }\n  }]);\n\n  function ChatBot() {\n    var _this;\n\n    _classCallCheck(this, ChatBot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatBot).call(this));\n    _this.state = {\n      response: '',\n      post: '',\n      responseToPost: ''\n    };\n    _this.handleSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body, song;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('http://localhost:4000/api/play', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  post: _this.state.post\n                })\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.text();\n\n            case 5:\n              body = _context.sent;\n\n              _this.setState({\n                responseToPost: \"Here is a \" + body + \" music \"\n              });\n\n              _this.setState({\n                songResponse: \"Now playing \" + _this.state.song + \" By \" + _this.state.artist\n              });\n\n              song = 0;\n\n              if (body == \"HAPPY\") {\n                song = Songs.HappySongs[3];\n              } else {\n                song = Songs.SadSongs[4];\n              }\n\n              console.log(song);\n\n              _this.setState({\n                song: song.Name\n              });\n\n              _this.setState({\n                url: song.URL\n              });\n\n              _this.setState({\n                artist: song.artist\n              });\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.handleLyricsSearch =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch('http://localhost:4000/api/lyrics', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  post: _this.state.song\n                })\n              });\n\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return response.text();\n\n            case 5:\n              body = _context2.sent;\n\n              _this.setState({\n                responseToPost: body\n              });\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    _this.setRef = function (webcam) {\n      _this.webcam = webcam;\n    };\n\n    _this.capture = function () {\n      var imageSrc = _this.webcam.getScreenshot();\n\n      _this.setState({\n        post: imageSrc\n      });\n\n      _this.handleSubmit(); // f();\n\n    };\n\n    _this.logOut = _this.logOut.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      response: \"\",\n      songResponse: \"\",\n      song: \"\",\n      artist: \"\",\n      url: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ChatBot, [{\n    key: \"logOut\",\n    value: function logOut() {\n      fire.auth().signOut();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Webcam, {\n        audio: false,\n        height: 350,\n        ref: this.setRef,\n        screenshotFormat: \"image/jpeg\",\n        width: 350,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), this.state.response, React.createElement(\"button\", {\n        onClick: this.capture,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Play a song \"), React.createElement(\"button\", {\n        onClick: this.logOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"logout\"), React.createElement(\"button\", {\n        onClick: this.handleLyricsSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"FIND LYRICS\"), React.createElement(\"a\", {\n        href: this.state.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.state.responseToPost, \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, this.state.songResponse)));\n    }\n  }]);\n\n  return ChatBot;\n}(Component);\n\nexport default ChatBot;","map":{"version":3,"sources":["C:\\Users\\DELL\\Desktop\\prog\\BUET Hackathon 2019\\getSchwifty\\src\\components\\ChatBot.jsx"],"names":["React","Component","fire","Webcam","Songs","SpeechRecognition","myRecognition","window","webkitSpeechRecognition","mozSpeechRecognition","msSpeechRecognition","continous","interimResults","lang","ChatBot","setState","listening","state","handleListen","console","log","response","post","responseToPost","handleSubmit","fetch","method","headers","body","JSON","stringify","text","songResponse","song","artist","HappySongs","SadSongs","Name","url","URL","handleLyricsSearch","setRef","webcam","capture","imageSrc","getScreenshot","logOut","bind","auth","signOut"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport fire from 'firebase';\r\nimport Webcam from \"react-webcam\";\r\nimport Songs from './songs.json';\r\nimport SpeechRecognition from 'react-speech-recognition';\r\n\r\n\r\nvar myRecognition = new (window.SpeechRecognition || window.webkitSpeechRecognition || window.mozSpeechRecognition || window.msSpeechRecognition)();\r\n\r\n\r\nmyRecognition.continous = true;\r\nmyRecognition.interimResults = true;\r\nmyRecognition.lang = 'en-US';\r\n\r\n\r\nclass ChatBot extends Component {\r\n\r\n    state = {\r\n        response: '',\r\n        post: '',\r\n        responseToPost: ''\r\n    };\r\n\r\n    toggleListen() {\r\n        this.setState({\r\n            listening: !this.state.listening\r\n        }, this.handleListen)\r\n        console.log(this.state.listening);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    handleSubmit = async () => {\r\n        const response = await fetch('http://localhost:4000/api/play', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ post: this.state.post }),\r\n        });\r\n        const body = await response.text();\r\n        this.setState({ responseToPost: \"Here is a \"+ body + \" music \" });\r\n        this.setState({ songResponse: \"Now playing \" + this.state.song + \" By \" + this.state.artist });\r\n\r\n        let song=0;\r\n        if (body==\"HAPPY\"){\r\n            song = Songs.HappySongs[3];\r\n        }\r\n        else{\r\n            song = Songs.SadSongs[4];\r\n        }\r\n        console.log(song)\r\n        this.setState({ song: song.Name});\r\n        this.setState({ url: song.URL});\r\n        this.setState({ artist: song.artist});\r\n\r\n    };\r\n\r\n    handleLyricsSearch = async() =>{\r\n        const response = await fetch('http://localhost:4000/api/lyrics',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ post: this.state.song}),\r\n        });\r\n        const body = await response.text();\r\n        this.setState({ responseToPost: body});\r\n\r\n    };\r\n\r\n  constructor(){\r\n    super();\r\n      this.logOut = this.logOut.bind(this);\r\n      this.state = {\r\n        response: \"\",\r\n        songResponse: \"\",\r\n        song: \"\",\r\n        artist: \"\",\r\n          url: \"\"\r\n      }\r\n  }\r\n\r\n\r\n  logOut(){\r\n    fire.auth().signOut();\r\n  }\r\n\r\n  setRef = webcam => {\r\n    this.webcam = webcam;\r\n  };\r\n\r\n  capture = () => {\r\n      const imageSrc = this.webcam.getScreenshot();\r\n      this.setState({post: imageSrc});\r\n      this.handleSubmit();\r\n     // f();\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n   return (\r\n\r\n    <div >\r\n    <Webcam\r\n        audio={false}\r\n        height={350}\r\n        ref={this.setRef}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width={350}\r\n    />\r\n        {this.state.response}\r\n    <button onClick={this.capture}>Play a song </button>\r\n      <button onClick = {this.logOut} >logout</button>\r\n      <button onClick = {this.handleLyricsSearch} >FIND LYRICS</button>\r\n\r\n        <a href={this.state.url}>\r\n        <p>{this.state.responseToPost} </p>\r\n        <p>{this.state.songResponse}</p>\r\n        </a>\r\n    </div>\r\n  );\r\n}\r\n}\r\n\r\nexport default ChatBot;\r\n"]},"metadata":{},"sourceType":"module"}