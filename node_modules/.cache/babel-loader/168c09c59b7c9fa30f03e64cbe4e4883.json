{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\src\\\\components\\\\ChatBot.jsx\";\nimport React, { Component } from 'react';\nimport fire from './firebase';\nimport Webcam from \"react-webcam\";\nvar settings = {\n  timestampsInSnapshots: true\n};\nfire.firestore().settings(settings);\n\nvar ChatBot =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChatBot, _Component);\n\n  _createClass(ChatBot, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      fire.firestore().collection(\"HappySongs\").get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          console.log(\"\".concat(doc.id, \" => \").concat(doc.data()));\n        });\n      });\n    }\n  }]);\n\n  function ChatBot() {\n    var _this;\n\n    _classCallCheck(this, ChatBot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatBot).call(this));\n    _this.state = {\n      response: '',\n      post: '',\n      responseToPost: ''\n    };\n    _this.handleSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('http://localhost:4000/api/world', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  post: _this.state.post\n                })\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.text();\n\n            case 5:\n              body = _context.sent;\n\n              _this.setState({\n                responseToPost: \"Here is a \" + body + \" music\"\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.setRef = function (webcam) {\n      _this.webcam = webcam;\n    };\n\n    _this.capture = function () {\n      var imageSrc = _this.webcam.getScreenshot();\n\n      _this.setState({\n        post: imageSrc\n      });\n\n      _this.handleSubmit(); // f();\n\n    };\n\n    _this.logOut = _this.logOut.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      response: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ChatBot, [{\n    key: \"logOut\",\n    value: function logOut() {\n      fire.auth().signOut();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Webcam, {\n        audio: false,\n        height: 350,\n        ref: this.setRef,\n        screenshotFormat: \"image/jpeg\",\n        width: 350,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), this.state.response, React.createElement(\"button\", {\n        onClick: this.capture,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Play a song \"), React.createElement(\"button\", {\n        onClick: this.logOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"logout\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, this.state.responseToPost, \" \"));\n    }\n  }]);\n\n  return ChatBot;\n}(Component);\n\nexport default ChatBot;","map":{"version":3,"sources":["C:\\Users\\DELL\\Desktop\\prog\\BUET Hackathon 2019\\getSchwifty\\src\\components\\ChatBot.jsx"],"names":["React","Component","fire","Webcam","settings","timestampsInSnapshots","firestore","ChatBot","collection","get","then","querySnapshot","forEach","doc","console","log","id","data","state","response","post","responseToPost","handleSubmit","fetch","method","headers","body","JSON","stringify","text","setState","setRef","webcam","capture","imageSrc","getScreenshot","logOut","bind","auth","signOut"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport fire from './firebase';\r\nimport Webcam from \"react-webcam\";\r\n\r\nconst settings = {timestampsInSnapshots: true};\r\nfire.firestore().settings(settings);\r\n\r\nclass ChatBot extends Component {\r\n\r\n    state = {\r\n        response: '',\r\n        post: '',\r\n        responseToPost: '',\r\n    };\r\n\r\n    componentDidMount(){\r\n        fire.firestore().collection(\"HappySongs\").get().then((querySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n                console.log(`${doc.id} => ${doc.data()}`);\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    handleSubmit = async () => {\r\n        const response = await fetch('http://localhost:4000/api/world', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ post: this.state.post }),\r\n        });\r\n        const body = await response.text();\r\n        this.setState({ responseToPost: \"Here is a \"+ body + \" music\" });\r\n    };\r\n\r\n  constructor(){\r\n    super();\r\n      this.logOut = this.logOut.bind(this);\r\n      this.state = {\r\n        response: \"\"\r\n      }\r\n  }\r\n\r\n\r\n  logOut(){\r\n    fire.auth().signOut();\r\n  }\r\n\r\n  setRef = webcam => {\r\n    this.webcam = webcam;\r\n  };\r\n\r\n  capture = () => {\r\n      const imageSrc = this.webcam.getScreenshot();\r\n      this.setState({post: imageSrc});\r\n      this.handleSubmit();\r\n     // f();\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n   return (\r\n\r\n    <div >\r\n    <Webcam\r\n        audio={false}\r\n        height={350}\r\n        ref={this.setRef}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width={350}\r\n    />\r\n        {this.state.response}\r\n    <button onClick={this.capture}>Play a song </button>\r\n      <button onClick = {this.logOut} >logout</button>\r\n\r\n\r\n        <p>{this.state.responseToPost} </p>\r\n    </div>\r\n  );\r\n}\r\n}\r\n\r\nexport default ChatBot;\r\n"]},"metadata":{},"sourceType":"module"}