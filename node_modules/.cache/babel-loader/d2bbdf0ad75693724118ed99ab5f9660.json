{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\src\\\\components\\\\ChatBot.jsx\";\nimport React, { Component } from 'react';\nimport fire from 'firebase';\nimport Webcam from \"react-webcam\";\nimport Songs from './songs.json';\n\nvar ChatBot =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChatBot, _Component);\n\n  function ChatBot() {\n    var _this;\n\n    _classCallCheck(this, ChatBot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatBot).call(this));\n    _this.state = {\n      response: '',\n      post: '',\n      responseToPost: ''\n    };\n    _this.handleSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body, song;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('http://localhost:4000/api/play', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  post: _this.state.post\n                })\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.text();\n\n            case 5:\n              body = _context.sent;\n\n              _this.setState({\n                responseToPost: \"Here is a \" + body + \" music \"\n              });\n\n              _this.setState({\n                songResponse: \"Now playing \" + _this.state.song + \" By \" + _this.state.artist\n              });\n\n              console.log(Songs.HappySongs[0].Name);\n              song = 0;\n\n              if (body == \"HAPPY\") {\n                song = Songs.HappySongs[Math.random() % 5];\n              } else {\n                song = Songs.SadSongs[Math.random() % 8];\n              }\n\n              console.log(song);\n\n              _this.setState({\n                song: song.Name\n              });\n\n              _this.setState({\n                song: song.URL\n              });\n\n              _this.setState({\n                song: song.artist\n              });\n\n              _this.setState({\n                responseToPost: body\n              });\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.handleLyricsSearch =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch('http://localhost:4000/api/lyrics', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  post: _this.state.song\n                })\n              });\n\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return response.text();\n\n            case 5:\n              body = _context2.sent;\n\n              _this.setState({\n                responseToPost: body\n              });\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    _this.setRef = function (webcam) {\n      _this.webcam = webcam;\n    };\n\n    _this.capture = function () {\n      var imageSrc = _this.webcam.getScreenshot();\n\n      _this.setState({\n        post: imageSrc\n      });\n\n      _this.handleSubmit(); // f();\n\n    };\n\n    _this.logOut = _this.logOut.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      response: \"\",\n      songResponse: \"\",\n      song: \"\",\n      artist: \"\",\n      url: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ChatBot, [{\n    key: \"logOut\",\n    value: function logOut() {\n      fire.auth().signOut();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Webcam, {\n        audio: false,\n        height: 350,\n        ref: this.setRef,\n        screenshotFormat: \"image/jpeg\",\n        width: 350,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), this.state.response, React.createElement(\"button\", {\n        onClick: this.capture,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Play a song \"), React.createElement(\"button\", {\n        onClick: this.logOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"logout\"), React.createElement(\"button\", {\n        onClick: this.handleLyricsSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"FIND LYRICS\"), React.createElement(\"a\", {\n        href: this.state.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.state.responseToPost, \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, this.state.songResponse)));\n    }\n  }]);\n\n  return ChatBot;\n}(Component);\n\nexport default ChatBot;","map":{"version":3,"sources":["C:\\Users\\DELL\\Desktop\\prog\\BUET Hackathon 2019\\getSchwifty\\src\\components\\ChatBot.jsx"],"names":["React","Component","fire","Webcam","Songs","ChatBot","state","response","post","responseToPost","handleSubmit","fetch","method","headers","body","JSON","stringify","text","setState","songResponse","song","artist","console","log","HappySongs","Name","Math","random","SadSongs","URL","handleLyricsSearch","setRef","webcam","capture","imageSrc","getScreenshot","logOut","bind","url","auth","signOut"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport fire from 'firebase';\r\nimport Webcam from \"react-webcam\";\r\nimport Songs from './songs.json';\r\n\r\nclass ChatBot extends Component {\r\n\r\n    state = {\r\n        response: '',\r\n        post: '',\r\n        responseToPost: ''\r\n    };\r\n\r\n\r\n\r\n    handleSubmit = async () => {\r\n        const response = await fetch('http://localhost:4000/api/play', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ post: this.state.post }),\r\n        });\r\n        const body = await response.text();\r\n        this.setState({ responseToPost: \"Here is a \"+ body + \" music \" });\r\n        this.setState({ songResponse: \"Now playing \" + this.state.song + \" By \" + this.state.artist });\r\n        console.log(Songs.HappySongs[0].Name);\r\n        let song=0;\r\n        if (body==\"HAPPY\"){\r\n            song = Songs.HappySongs[Math.random()%5];\r\n        }\r\n        else{\r\n            song = Songs.SadSongs[Math.random()%8];\r\n        }\r\n        console.log(song)\r\n        this.setState({ song: song.Name});\r\n        this.setState({ song: song.URL});\r\n        this.setState({ song: song.artist});\r\n        this.setState({ responseToPost: body});\r\n\r\n    };\r\n\r\n    handleLyricsSearch = async() =>{\r\n        const response = await fetch('http://localhost:4000/api/lyrics',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ post: this.state.song}),\r\n        });\r\n        const body = await response.text();\r\n        this.setState({ responseToPost: body});\r\n\r\n    };\r\n\r\n  constructor(){\r\n    super();\r\n      this.logOut = this.logOut.bind(this);\r\n      this.state = {\r\n        response: \"\",\r\n        songResponse: \"\",\r\n        song: \"\",\r\n        artist: \"\",\r\n          url: \"\"\r\n      }\r\n  }\r\n\r\n\r\n  logOut(){\r\n    fire.auth().signOut();\r\n  }\r\n\r\n  setRef = webcam => {\r\n    this.webcam = webcam;\r\n  };\r\n\r\n  capture = () => {\r\n      const imageSrc = this.webcam.getScreenshot();\r\n      this.setState({post: imageSrc});\r\n      this.handleSubmit();\r\n     // f();\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n   return (\r\n\r\n    <div >\r\n    <Webcam\r\n        audio={false}\r\n        height={350}\r\n        ref={this.setRef}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width={350}\r\n    />\r\n        {this.state.response}\r\n    <button onClick={this.capture}>Play a song </button>\r\n      <button onClick = {this.logOut} >logout</button>\r\n      <button onClick = {this.handleLyricsSearch} >FIND LYRICS</button>\r\n\r\n        <a href={this.state.url}>\r\n        <p>{this.state.responseToPost} </p>\r\n        <p>{this.state.songResponse}</p>\r\n        </a>\r\n    </div>\r\n  );\r\n}\r\n}\r\n\r\nexport default ChatBot;\r\n"]},"metadata":{},"sourceType":"module"}