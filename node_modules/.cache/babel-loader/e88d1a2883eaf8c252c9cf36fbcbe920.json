{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\prog\\\\BUET Hackathon 2019\\\\getSchwifty\\\\src\\\\components\\\\ChatBot.jsx\";\nimport React, { Component } from 'react';\nimport fire from 'firebase';\nimport Webcam from \"react-webcam\";\nimport Songs from './songs.json';\n\nvar ChatBot =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChatBot, _Component);\n\n  function ChatBot() {\n    var _this;\n\n    _classCallCheck(this, ChatBot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatBot).call(this));\n    _this.state = {\n      response: '',\n      post: '',\n      responseToPost: ''\n    };\n    _this.handleSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('http://localhost:4000/api/play', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  post: _this.state.post\n                })\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.text();\n\n            case 5:\n              body = _context.sent;\n\n              _this.setState({\n                responseToPost: \"Here is a \" + body + \" music\"\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.handleSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch('http://localhost:4000/api/play', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  post: _this.state.post\n                })\n              });\n\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return response.text();\n\n            case 5:\n              body = _context2.sent;\n\n              _this.setState({\n                responseToPost: \"Here is a \" + body + \" music\"\n              });\n\n              console.log(Songs.HappySongs[0].Name);\n              readTextFile(\"/Users/Documents/workspace/test.json\", function (text) {\n                var data = JSON.parse(text);\n                console.log(data);\n              });\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    _this.handleLyricsSearch =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return fetch('http://localhost:4000/api/lyrics', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  post: _this.state.song\n                })\n              });\n\n            case 2:\n              response = _context3.sent;\n              _context3.next = 5;\n              return response.text();\n\n            case 5:\n              body = _context3.sent;\n\n              _this.setState({\n                responseToPost: body\n              });\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    _this.setRef = function (webcam) {\n      _this.webcam = webcam;\n    };\n\n    _this.capture = function () {\n      var imageSrc = _this.webcam.getScreenshot();\n\n      _this.setState({\n        post: imageSrc\n      });\n\n      _this.handleSubmit(); // f();\n\n    };\n\n    _this.logOut = _this.logOut.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      response: \"\",\n      song: 'All along the watchtower'\n    };\n    return _this;\n  }\n\n  _createClass(ChatBot, [{\n    key: \"logOut\",\n    value: function logOut() {\n      fire.auth().signOut();\n    }\n  }, {\n    key: \"readTextFile\",\n    value: function readTextFile(file, callback) {\n      var rawFile = new XMLHttpRequest();\n      rawFile.overrideMimeType(\"application/json\");\n      rawFile.open(\"GET\", file, true);\n\n      rawFile.onreadystatechange = function () {\n        if (rawFile.readyState === 4 && rawFile.status == \"200\") {\n          callback(rawFile.responseText);\n        }\n      };\n\n      rawFile.send(null);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Webcam, {\n        audio: false,\n        height: 350,\n        ref: this.setRef,\n        screenshotFormat: \"image/jpeg\",\n        width: 350,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), this.state.response, React.createElement(\"button\", {\n        onClick: this.capture,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Play a song \"), React.createElement(\"button\", {\n        onClick: this.logOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"logout\"), React.createElement(\"button\", {\n        onClick: this.handleLyricsSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"FIND LYRICS\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, this.state.responseToPost, \" \"));\n    }\n  }]);\n\n  return ChatBot;\n}(Component);\n\nexport default ChatBot;","map":{"version":3,"sources":["C:\\Users\\DELL\\Desktop\\prog\\BUET Hackathon 2019\\getSchwifty\\src\\components\\ChatBot.jsx"],"names":["React","Component","fire","Webcam","Songs","ChatBot","state","response","post","responseToPost","handleSubmit","fetch","method","headers","body","JSON","stringify","text","setState","console","log","HappySongs","Name","readTextFile","data","parse","handleLyricsSearch","song","setRef","webcam","capture","imageSrc","getScreenshot","logOut","bind","auth","signOut","file","callback","rawFile","XMLHttpRequest","overrideMimeType","open","onreadystatechange","readyState","status","responseText","send"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport fire from 'firebase';\r\nimport Webcam from \"react-webcam\";\r\nimport Songs from './songs.json';\r\n\r\nclass ChatBot extends Component {\r\n\r\n    state = {\r\n        response: '',\r\n        post: '',\r\n        responseToPost: ''\r\n    };\r\n\r\n\r\n\r\n    handleSubmit = async () => {\r\n        const response = await fetch('http://localhost:4000/api/play', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ post: this.state.post }),\r\n        });\r\n        const body = await response.text();\r\n        this.setState({ responseToPost: \"Here is a \"+ body + \" music\" });\r\n    };\r\n\r\n    handleSubmit = async () => {\r\n        const response = await fetch('http://localhost:4000/api/play', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ post: this.state.post }),\r\n        });\r\n        const body = await response.text();\r\n        this.setState({ responseToPost: \"Here is a \"+ body + \" music\" });\r\n        console.log(Songs.HappySongs[0].Name);\r\n        readTextFile(\"/Users/Documents/workspace/test.json\", function(text){\r\n            var data = JSON.parse(text);\r\n            console.log(data);\r\n        });\r\n    };\r\n\r\n    handleLyricsSearch = async() =>{\r\n        const response = await fetch('http://localhost:4000/api/lyrics',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ post: this.state.song}),\r\n        });\r\n        const body = await response.text();\r\n        this.setState({ responseToPost: body});\r\n    };\r\n\r\n  constructor(){\r\n    super();\r\n      this.logOut = this.logOut.bind(this);\r\n      this.state = {\r\n        response: \"\",\r\n        song: 'All along the watchtower'\r\n      }\r\n  }\r\n\r\n\r\n  logOut(){\r\n    fire.auth().signOut();\r\n  }\r\n\r\n  setRef = webcam => {\r\n    this.webcam = webcam;\r\n  };\r\n\r\n  capture = () => {\r\n      const imageSrc = this.webcam.getScreenshot();\r\n      this.setState({post: imageSrc});\r\n      this.handleSubmit();\r\n     // f();\r\n\r\n\r\n  };\r\n\r\n  readTextFile(file, callback) {\r\n        var rawFile = new XMLHttpRequest();\r\n        rawFile.overrideMimeType(\"application/json\");\r\n        rawFile.open(\"GET\", file, true);\r\n        rawFile.onreadystatechange = function() {\r\n            if (rawFile.readyState === 4 && rawFile.status == \"200\") {\r\n                callback(rawFile.responseText);\r\n            }\r\n        }\r\n        rawFile.send(null);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n   return (\r\n\r\n    <div >\r\n    <Webcam\r\n        audio={false}\r\n        height={350}\r\n        ref={this.setRef}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width={350}\r\n    />\r\n        {this.state.response}\r\n    <button onClick={this.capture}>Play a song </button>\r\n      <button onClick = {this.logOut} >logout</button>\r\n      <button onClick = {this.handleLyricsSearch} >FIND LYRICS</button>\r\n\r\n\r\n        <p>{this.state.responseToPost} </p>\r\n    </div>\r\n  );\r\n}\r\n}\r\n\r\nexport default ChatBot;\r\n"]},"metadata":{},"sourceType":"module"}